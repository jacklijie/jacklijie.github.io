webpackJsonp([37],{"6Bzo":function(e,n,t){var o=t("sywX");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("bUva")("40d6cb3e",o,!0,{})},Quw4:function(e,n,t){"use strict";function o(e){t("6Bzo")}Object.defineProperty(n,"__esModule",{value:!0});var i=(t("yt7g"),t("++zo")),s=t("NtYf"),r=t("W9Ge"),a=t("OuAF"),c=t("ubGM"),g=t("wtEF"),u={name:"login",data:function(){return{isGet:!1,getCodeBtnText:"60s",phoneNum:"",test:!1,codeNum:"",isSync:!0,logoImg:a.a.logo,toShiming:!1,responseCode:"",isRegiste:!0}},mounted:function(){console.log(this.$router);var e=this.$route.query;e.hasOwnProperty("shiming")&&e.shiming&&(this.toShiming=!0);var n=window.sessionStorage,t=new Date,o=Math.round(t.getTime()/1e3),i=o-n.getTime,s=n.countDown-i;n.getItem&&n.countDown&&(i<60&&s>0?(this.getCodeBtnText=s+"s",this.isGet=!0,this.times(s)):this.isGet=!1)},computed:{},beforeDestroy:function(){this.isGet=!1},beforeRouteEnter:function(e,n,t){"/"!=n.fullPath&&g.a.commit(c.w,{loginBack:n.fullPath}),t()},methods:{times:function(e){var n=this,t=setInterval(function(){if(console.log(n.isGet),!n.isGet)return n.isGet=!1,n.getCodeBtnText="60s",void clearInterval(t);if(e>0){e--,n.getCodeBtnText=e+"s",n.$store.commit(c.k,{countDown:e});var o=new Date,i=Math.round(o.getTime()/1e3);n.$store.commit(c.q,{getTime:i})}else n.isGet=!1,n.getCodeBtnText="60s",clearInterval(t)},1e3)},testInput:function(){var e=/^1[3|4|5|6|7|8|9][0-9]{9}$/,n=/^\d{4}$/;e.test(this.phoneNum)&&n.test(this.codeNum)?this.test=!0:this.test=!1},getCode:function(){var e=this;document.body.scrollIntoView();var n=/^1[3|4|5|6|7|8|9][0-9]{9}$/,t=this;console.log(r.a.getUrlObj().openId),n.test(this.phoneNum)?(this.isGet=!0,this.times(60),this.$ajax.post(i.a.register,{logistics_interface:{loginId:this.phoneNum,loginName:this.phoneNum,mobile:this.phoneNum,loginPwd:this.phoneNum,mesCheck:""},msg_type:"REGISTER"},!0).then(function(n){e.$ajax.post(i.a.sendSmsCode,{logistics_interface:{mobile:e.phoneNum,type:"S10"===n.code?1:3,loginid:e.phoneNum},msg_type:"SEND_SMSCODE"}).then(function(n){e.responseCode=n,e.isRegiste="S10"===n.code,Object(s.Toast)("验证码已发送")}).catch(function(e){console.log(e),t.isGet=!1})})):Object(s.Toast)("输入正确的手机号")},login:function(){var e=this;document.body.scrollIntoView();var n=/^1[3|4|5|6|7|8|9][0-9]{9}$/,t=/^\d{4}$/;if(n.test(this.phoneNum))if(t.test(this.codeNum))if(t.test(this.responseCode))if(this.responseCode!==this.codeNum)Object(s.Toast)("验证码不正确");else{if(!this.test)return;this.test=!1;var o=function(){e.test=!0,e.$store.commit(c.N,{userInfo:{phone:e.phoneNum}}),Object(s.Toast)("登录成功"),e.$router.replace(e.$store.state.loginBack)};this.isRegiste?this.$ajax.post(i.a.register,{logistics_interface:{loginId:this.phoneNum,loginName:this.phoneNum,mobile:this.phoneNum,loginPwd:this.phoneNum,mesCheck:this.codeNum},msg_type:"REGISTER"},!0).then(function(e){o()}).catch(function(n){e.test=!0}):this.$ajax.post(i.a.login,{logistics_interface:{clientType:"2",loginId:this.phoneNum,loginPwd:this.phoneNum,mobile:this.phoneNum,smscode:this.codeNum},msg_type:"LOGIN"}).then(function(e){o()}).catch(function(n){e.test=!0})}else Object(s.Toast)("请先获取验证码");else Object(s.Toast)("输入正确验证码");else Object(s.Toast)("输入正确的手机号")}}},m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"user-page"},[t("div",{staticClass:"logo"},[e._v("\n\t\t登 录\n\t\t")]),e._v(" "),t("div",{staticClass:"input-div"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNum,expression:"phoneNum"}],staticClass:"tel-input",attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号"},domProps:{value:e.phoneNum},on:{keyup:e.testInput,input:function(n){n.target.composing||(e.phoneNum=n.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.codeNum,expression:"codeNum"}],staticClass:"code-input",attrs:{type:"tel",maxlength:"4",placeholder:"请输入验证码"},domProps:{value:e.codeNum},on:{keyup:e.testInput,input:function(n){n.target.composing||(e.codeNum=n.target.value)}}}),e._v(" "),e.isGet?e._e():t("span",{staticClass:"get-code-btn",on:{click:e.getCode}},[e._v("获取验证码")]),e._v(" "),e.isGet?t("span",{staticClass:"get-code-btn disable"},[e._v(e._s(e.getCodeBtnText))]):e._e()]),e._v(" "),t("footer",{staticClass:"footer"},[t("mt-button",{staticClass:"btn logBtn",attrs:{size:"large",disabled:!e.test},nativeOn:{click:function(n){return e.login(n)}}},[e._v("确定")])],1)])},l=[],d={render:m,staticRenderFns:l},p=d,h=t("Mz/3"),b=o,f=h(u,p,!1,b,null,null);n.default=f.exports},sywX:function(e,n,t){n=e.exports=t("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16 {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\nbody {\n  background: #f2f7f8;\n}\n.user-page {\n  background: #f2f7f8;\n  padding-bottom: 1px;\n  height: 100%;\n  /*checkbox*/\n}\n.user-page .logo {\n    text-align: center;\n    padding: 50px 0;\n    font-size: 1.28rem;\n}\n.user-page .logo img {\n      width: 80px;\n}\n.user-page .input-div {\n    position: relative;\n    padding: 0 10px;\n}\n.user-page .input-div .tel-input {\n      height: 2.8rem;\n      width: 100%;\n      border-radius: 1.4rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      line-height: inherit;\n      border: none;\n      border-bottom: 1px solid #ececec;\n      background-color: rgba(0, 0, 0, 0.1);\n      background-size: 1rem auto;\n      font-size: 0.8rem;\n      margin: 0;\n}\n.user-page .input-div .code-input {\n      height: 2.8rem;\n      width: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      border-radius: 1.4rem;\n      background-color: rgba(0, 0, 0, 0.1);\n      background-size: 1rem auto;\n      line-height: inherit;\n      margin: 0;\n      border: none;\n      border-bottom: 1px solid #ececec;\n      font-size: 0.8rem;\n      margin-top: 0.53333rem;\n}\n.user-page .input-div .get-code-btn {\n      width: 4.5rem;\n      height: 1.5rem;\n      position: absolute;\n      bottom: 0.65rem;\n      right: 20px;\n      font-size: 0.5rem;\n      line-height: 1.5rem;\n      text-align: center;\n      color: #fff;\n      font-size: 12px;\n      background-color: #d4392d;\n      border-radius: 0.75rem;\n      line-height: 1.5rem;\n}\n.user-page .input-div .disable {\n      color: #ccc;\n}\n.user-page .msgText {\n    text-align: center;\n    color: #f4761f;\n    font-size: 0.6rem;\n    margin-top: 2rem;\n}\n.user-page .footer {\n    padding: 0 10px;\n    margin-top: 50px;\n}\n.user-page .footer .logBtn {\n      height: 2rem;\n      color: white;\n      text-align: center;\n      line-height: 2rem;\n      font-size: 0.8rem;\n      margin: 0.8rem 0;\n      background-color: #030303;\n}\n.user-page .disableBtn {\n    background: #808080;\n}\n.user-page .set_default {\n    color: #666666;\n    padding: 0.64rem 0 0 0.66rem;\n    font-size: 12px;\n}\n.user-page .set_default .icono {\n      margin-right: 0.4rem;\n      margin-left: .65rem;\n      font-size: 1rem;\n      vertical-align: -4px;\n}\n.user-page .set_default .icono.active {\n        color: #a85bee;\n}\n.msg-box-cls p {\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 20px 0;\n  text-align: center;\n}\n.msg-box-cls p:last-of-type {\n    font-size: 12px;\n    color: #999;\n}\n.mint-msgbox-content {\n  padding-bottom: 0;\n  border: none;\n}\n.mint-msgbox-btns {\n  height: 30px;\n  line-height: 30px;\n  margin-bottom: 10px;\n}\n.mint-msgbox-btns .msg-cancel {\n    margin: 0 20px;\n    border-radius: 20px;\n    color: #a85bee;\n    border: 1px solid #a85bee;\n}\n.mint-msgbox-btns .msg-ok {\n    margin: 0 20px;\n    border-radius: 20px;\n    color: #fff;\n    background: #a85bee;\n}\n',""])}});