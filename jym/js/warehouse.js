webpackJsonp([9],{"+GkG":function(e,n,a){n=e.exports=a("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16 {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\n.picker .picker-item {\n  text-overflow: clip;\n  font-size: 0.74667rem;\n  color: #c7c7c7;\n}\n.picker .picker-item.picker-selected {\n    color: #000;\n    font-size: 0.853rem;\n}\n.picker-box .footer .mint-button {\n  height: 50px;\n}\n.not-scroll {\n  height: 100%;\n  overflow: hidden;\n}\n',""])},"6Q6/":function(e,n,a){var t=a("Fh6w");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a("bUva")("d236309c",t,!0,{})},Fh6w:function(e,n,a){n=e.exports=a("yKCJ")(!1),n.push([e.i,"\n.mint-msgbox-input input{\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    margin-bottom: 0;\n    height: 30px;\n}\n#app{\n    background: #f2f7f8;\n}\nbody,html{\n    height: 100%;\n}\n",""])},GbgA:function(e,n,a){var t=a("jkF5");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a("bUva")("5d72e9d2",t,!0,{})},VC3f:function(e,n,a){var t=a("i3nq");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a("bUva")("8da846e6",t,!0,{})},"W+AU":function(e,n,a){var t=a("+GkG");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a("bUva")("dc3bb372",t,!0,{})},"f+CO":function(e,n,a){"use strict";function t(e){a("VC3f"),a("W+AU")}function o(e){a("GbgA"),a("6Q6/")}Object.defineProperty(n,"__esModule",{value:!0});var i=a("3SZ7"),r=a.n(i),s=a("u6qr"),l=a.n(s),u=a("NtYf"),h=a("ubGM"),m=a("++zo"),c=a("W9Ge"),d={props:["showPanel"],data:function(){return{slots:[{flex:1,defaultIndex:0,values:[],className:"slot1"},{divider:!0,content:"-",className:"slot2"},{flex:1,defaultIndex:0,values:[],className:"slot3"}],curDate:"",curTime:"",SlotTwoSource:[],getCommonData:""}},mounted:function(){this.getDate()},methods:{init:function(){this.slots[0].values.push({idx:0,value:"暂不选择"}),this.slots[0].values.push({idx:1,value:"明天"});for(var e=this.getCommonData?this.getCommonData:(new Date).getTime(),n=2;n<31;n++)this.slots[0].values.push({idx:n,value:function(e){return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}(new Date(e+864e5*n))});this.slots[2].values=[{idx:0,value:"暂不选择"}],this.setSlotTwo()},getDate:function(){var e=this;this.$ajax.post(m.a.getCommonData,{openId:c.a.getUrlObj().openId},!0).then(function(n){n&&(e.getCommonData=n.date,e.init())}).catch(function(n){console.log(n.message||"服务繁忙，请稍后重试"),e.init()})},setSlotTwo:function(){for(var e=[],n=8;n<20;n++){var a=n<10?"0"+n:n;e.push({idx:n,value:a+":00-"+(n+2)+":00"}),e.push({idx:n+13,value:a+":30-"+(n+2)+":30"})}e.push({idx:33,value:"20:00-22:00"}),this.SlotTwoSource=e},cancelChoose:function(){this.$parent.showTimer=!1},checking:function(){"暂不选择"!==this.curDate?this.$emit("timeChange",this.curDate+" "+this.curTime,this.getCommonData):this.$emit("timeChange",""),this.$parent.showTimer=!1},onValuesChange:function(e,n){var a=n[0];a&&(a.value!==this.curDate?(this.curDate=a.value,this.slots[0].defaultIndex=this.slots[0].values.indexOf(a),"暂不选择"===a.value?this.slots[2].values=[{idx:0,value:"暂不选择"}]:1===this.slots[2].values.length&&(this.slots[2].values=this.SlotTwoSource)):n[1].value!==this.curTime&&(this.curTime=n[1].value,this.slots[2].defaultIndex=this.slots[2].values.indexOf(n[1])),console.log(this.curTime))}}},f=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"time-handler",class:{show:e.showPanel}},[a("div",{staticClass:"picker-bg",on:{click:e.cancelChoose}}),e._v(" "),a("div",{staticClass:"picker-box"},[a("div",{staticClass:"head"},[a("span",{staticClass:"span",on:{click:e.cancelChoose}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"span",on:{click:e.checking}},[e._v("确定")])]),e._v(" "),a("div",{on:{touchmove:function(e){e.preventDefault()}}},[a("mt-picker",{attrs:{slots:e.slots,"value-key":"value"},on:{change:e.onValuesChange}})],1)])])},p=[],g={render:f,staticRenderFns:p},v=g,b=a("Mz/3"),x=t,w=b(d,v,!1,x,"data-v-5a832c96",null),k=w.exports,C=/^[A-Z0-9]*[0-9]+[A-Z0-9]*$/,T={data:function(){return{form:{name:"",tel:"",warehouseType:"",warehouseName:"",warehouseAddress:"",handler:"",rucanghao:"",caigouhao:"",caigouhaos:[],currentTime:""},showTimer:!1}},mounted:function(){var e=this.$store.state.warehouse.temp;e&&(e.warehouseTypeObj&&(this.form.warehouseType=e.warehouseTypeObj.warehouseTypeName),e.warehouseInfoObj&&(this.form.warehouseName=e.warehouseInfoObj.warehouseName,this.form.warehouseAddress=e.warehouseInfoObj.address),this.form.name=e.name,this.form.tel=e.tel,this.form.handler=e.handler,this.form.rucanghao=e.rucanghao,this.form.caigouhao=e.caigouhao,this.form.caigouhaos=e.caigouhaos||[])},methods:{validateRucang:function(){return!!C.test(this.form.rucanghao.trim())||(Object(u.Toast)("入仓号只能为：大写字母和数字组合或纯数字"),!1)},validateRucangInput:function(){return!(this.form.rucanghao.trim()&&!/^[A-Z0-9]+$/.test(this.form.rucanghao.trim()))||(Object(u.Toast)("入仓号只能为：大写字母和数字组合或纯数字"),!1)},validateOneCaigouhao:function(e){return!!C.test(e.trim())||(Object(u.Toast)("采购单号只能为：大写字母和数字组合或纯数字"),!1)},validateOneCaigouhaoInput:function(e){return!(e.trim()&&!/^[A-Z0-9]+$/.test(e.trim()))||(Object(u.Toast)("采购单号只能为：大写字母和数字组合或纯数字"),!1)},validateCaigou:function(){if(!this.validateOneCaigouhao(this.form.caigouhao))return!1;var e=0,n=0,a=!0,t=!1,o=void 0;try{for(var i,r=l()(this.form.caigouhaos);!(a=(i=r.next()).done);a=!0){var s=i.value;if(!s.trim()){e++;break}if(!C.test(s.trim())){n++;break}}}catch(e){t=!0,o=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw o}}return!e&&!n||(Object(u.Toast)("请输入正确的采购单号，采购单号只能为：大写字母和数字组合或纯数字"),!1)},saveInfo:function(){if((!this.form.rucanghao||this.validateRucang())&&this.validateCaigou()){var e=JSON.parse(r()(this.$store.state.warehouse.temp));if(e.warehouseInfoObj.warehouseProvinceName&&e.warehouseInfoObj.warehouseCityName&&e.warehouseInfoObj.warehouseCountyName){var n={name:this.form.name.trim(),phone:this.form.tel.trim(),area:e.warehouseInfoObj.warehouseProvinceName+","+e.warehouseInfoObj.warehouseCityName+","+e.warehouseInfoObj.warehouseCountyName,company:this.form.warehouseName,address:this.form.warehouseAddress};this.$store.commit(h.E,n),this.saveToTemp(),e.handler=this.form.handler,e.rucanghao=this.form.rucanghao.trim(),e.caigouhao=this.form.caigouhao.trim()+(this.form.caigouhaos.length>0?","+this.form.caigouhaos.join(","):""),e.currentTime=this.form.currentTime,this.$store.commit(h.O,{warehouseInfo:e}),this.$router.replace({name:"send",query:{isWarehouse:1}})}else Object(u.Toast)("仓库省市区信息不能为空")}},saveToTemp:function(){var e=JSON.parse(r()(this.$store.state.warehouse.temp))||{};e.name=this.form.name.trim(),e.tel=this.form.tel.trim(),e.handler=this.form.handler,e.rucanghao=this.form.rucanghao.trim(),e.caigouhao=this.form.caigouhao.trim(),e.caigouhaos=this.form.caigouhaos,this.$store.commit(h.R,{warehouseTemp:e})},toListPage:function(e){this.saveToTemp(),1==e?this.$router.push({name:"warehouseTypeList"}):this.form.warehouseType?this.$router.push({name:"warehouseInfoList"}):this.$router.push({name:"warehouseTypeList"})},addCaigouhao:function(){if(this.form.caigouhaos.length>=9)return void Object(u.Toast)("最多输入10个采购单号");this.validateCaigou()&&this.form.caigouhaos.push("")},delCaigouhao:function(e){this.form.caigouhaos.splice(e,1)},timeChange:function(e,n){this.form.handler=e,this.form.currentTime=n}},components:{timeHandler:k}},y=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("section",{staticClass:"warehouse"},[a("div",{staticClass:"panel-box"},[a("ul",[a("li",{staticClass:"bbl"},[a("div",{staticClass:"half",class:{active:e.form.name}},[a("label",[e._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"f-input",attrs:{maxlength:"30"},domProps:{value:e.form.name},on:{input:function(n){n.target.composing||e.$set(e.form,"name",n.target.value)}}})]),e._v(" "),a("div",{staticClass:"half ml10",class:{active:e.form.tel}},[a("label",[e._v("联系方式")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],staticClass:"f-input",attrs:{maxlength:"30"},domProps:{value:e.form.tel},on:{input:function(n){n.target.composing||e.$set(e.form,"tel",n.target.value)}}})])]),e._v(" "),a("li",{staticClass:"bbl"},[a("div",{class:{active:e.form.warehouseType}},[a("label",[e._v("仓库类型")]),a("span",{domProps:{textContent:e._s(e.form.warehouseType)},on:{click:function(n){return e.toListPage(1)}}})])]),e._v(" "),a("li",{staticClass:"auto-height"},[a("div",{class:{active:e.form.warehouseName}},[a("label",[e._v("仓库名称")]),a("span",{domProps:{textContent:e._s(e.form.warehouseName)},on:{click:function(n){return e.toListPage(2)}}}),a("p",{domProps:{textContent:e._s(e.form.warehouseAddress)}})])])])]),e._v(" "),a("div",{staticClass:"panel-box"},[a("ul",[a("li",[a("div",{class:{active:e.form.handler}},[a("label",[e._v("入仓预约时间")]),a("span",{domProps:{textContent:e._s(e.form.handler)},on:{click:function(n){e.showTimer=!0}}})])])])]),e._v(" "),a("div",{staticClass:"panel-box"},[a("ul",[a("li",{staticClass:"bbl"},[a("div",{class:{active:e.form.rucanghao}},[a("label",[e._v("入仓预约号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.rucanghao,expression:"form.rucanghao"},{name:"blur",rawName:"v-blur"}],staticClass:"f-input",attrs:{maxlength:"30"},domProps:{value:e.form.rucanghao},on:{input:[function(n){n.target.composing||e.$set(e.form,"rucanghao",n.target.value)},e.validateRucangInput]}})])]),e._v(" "),a("li",[a("div",{staticClass:"max90",class:{active:e.form.caigouhao}},[a("label",[e._v("采购单号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.caigouhao,expression:"form.caigouhao"},{name:"blur",rawName:"v-blur"}],staticClass:"f-input",attrs:{maxlength:"50"},domProps:{value:e.form.caigouhao},on:{input:[function(n){n.target.composing||e.$set(e.form,"caigouhao",n.target.value)},function(n){return e.validateOneCaigouhaoInput(e.form.caigouhao)}]}})]),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.form.caigouhao,expression:"form.caigouhao"}],staticClass:"icono",attrs:{"aria-hidden":"true"},on:{click:e.addCaigouhao}},[a("use",{attrs:{"xlink:href":"#icon-tianjia1"}})])]),e._v(" "),e._l(e.form.caigouhaos,function(n,t){return a("li",{key:t,staticClass:"btl"},[a("div",{staticClass:"max90"},[a("input",{directives:[{name:"blur",rawName:"v-blur"},{name:"model",rawName:"v-model",value:e.form.caigouhaos[t],expression:"form.caigouhaos[index]"}],staticClass:"f-input",attrs:{maxlength:"50"},domProps:{value:e.form.caigouhaos[t]},on:{input:[function(n){n.target.composing||e.$set(e.form.caigouhaos,t,n.target.value)},function(n){return e.validateOneCaigouhaoInput(e.form.caigouhaos[t])}]}})]),a("svg",{staticClass:"icono",attrs:{"aria-hidden":"true"},on:{click:function(n){return e.delCaigouhao(t)}}},[a("use",{attrs:{"xlink:href":"#icon-shibai"}})])])})],2)]),e._v(" "),a("footer",{staticClass:"pop-btm"},[a("mt-button",{staticClass:"btn bg-purple",attrs:{type:"primary",disabled:!(e.form.name&&e.form.tel&&e.form.warehouseType&&e.form.warehouseName&&e.form.caigouhao),size:"large"},nativeOn:{click:function(n){return e.saveInfo(n)}}},[e._v("确定")])],1),e._v(" "),a("time-handler",{attrs:{"show-panel":e.showTimer},on:{timeChange:e.timeChange}})],1)},_=[],O={render:y,staticRenderFns:_},N=O,j=a("Mz/3"),$=o,I=j(T,N,!1,$,null,null);n.default=I.exports},i3nq:function(e,n,a){n=e.exports=a("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16[data-v-5a832c96] {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\n.time-handler[data-v-5a832c96] {\n  font-size: 0.746rem;\n  width: 100%;\n}\n.time-handler .place-holder[data-v-5a832c96] {\n    color: #999999;\n    height: 2.56rem;\n    line-height: 2.56rem;\n    width: 100%;\n}\n.time-handler .bind-value[data-v-5a832c96] {\n    color: #666;\n    width: 100%;\n    max-height: 2.56rem;\n    overflow: hidden;\n    vertical-align: middle;\n}\n.time-handler .picker-bg[data-v-5a832c96] {\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    max-width: 750px;\n    margin: 0 auto;\n    height: 100%;\n    display: none;\n    position: fixed;\n    z-index: 999;\n    -webkit-transition: opacity 0.3s;\n    transition: opacity 0.3s;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n.time-handler.show .picker-bg[data-v-5a832c96] {\n    display: block;\n}\n.time-handler.show .picker-box[data-v-5a832c96] {\n    -webkit-transform: translateY(-100%);\n            transform: translateY(-100%);\n}\n.time-handler .picker-box[data-v-5a832c96] {\n    position: fixed;\n    left: 0;\n    right: 0;\n    z-index: 1000;\n    bottom: -235px;\n    width: 100%;\n    margin: 0 auto;\n    max-width: 750px;\n    height: 235px;\n    -webkit-transition: -webkit-transform 0.3s;\n    transition: -webkit-transform 0.3s;\n    transition: transform 0.3s;\n    transition: transform 0.3s, -webkit-transform 0.3s;\n    background-color: #fff;\n}\n.time-handler .picker-box .head[data-v-5a832c96] {\n      padding: 15px 5px;\n      line-height: 20px;\n}\n.time-handler .picker-box .head .span[data-v-5a832c96]:first-of-type {\n        margin-left: 10px;\n        color: #999;\n        font-size: 0.74667rem;\n}\n.time-handler .picker-box .head .span[data-v-5a832c96]:last-of-type {\n        float: right;\n        margin-right: 10px;\n        color: #18b413;\n}\n.time-handler .picker-box .head .span:last-of-type .icon[data-v-5a832c96] {\n          width: 30px;\n          height: 30px;\n}\n.time-handler .picker-box .picker[data-v-5a832c96] {\n      background-color: #fff;\n}\n.time-handler .picker-box .footer .mint-button[data-v-5a832c96] {\n      border-radius: 0;\n}\n',""])},jkF5:function(e,n,a){n=e.exports=a("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16 {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\n.warehouse {\n  padding-bottom: 2.77333rem;\n  background: #f2f7f8;\n  padding-top: 1px;\n}\n.warehouse .panel-box {\n    position: relative;\n    margin: 0.48rem;\n    padding: 0 0.53333rem;\n    background: #fff;\n    border-radius: 5px;\n    -webkit-box-shadow: 0 1px 0.8rem #ddd;\n            box-shadow: 0 1px 0.8rem #ddd;\n}\n.warehouse .panel-box ul {\n      list-style: none;\n}\n.warehouse .panel-box ul li {\n        height: 2.56rem;\n        padding: 0.53333rem 0;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n}\n.warehouse .panel-box ul li.bbl {\n          border-bottom: 1px solid #eee;\n}\n.warehouse .panel-box ul li.btl {\n          border-top: 1px solid #eee;\n}\n.warehouse .panel-box ul li.auto-height {\n          height: auto;\n}\n.warehouse .panel-box ul li.auto-height div.active label {\n            top: 20px;\n}\n.warehouse .panel-box ul li.auto-height div.active span {\n            margin-top: 10px;\n            padding-bottom: 0;\n            line-height: 1;\n            height: auto;\n}\n.warehouse .panel-box ul li.auto-height div.active p {\n            font-size: 12px;\n            color: #666;\n            margin-top: 0px;\n            line-height: 1;\n}\n.warehouse .panel-box ul li div {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          position: relative;\n          max-width: 100%;\n}\n.warehouse .panel-box ul li div.half {\n            max-width: 50%;\n}\n.warehouse .panel-box ul li div.max90 {\n            max-width: 90%;\n}\n.warehouse .panel-box ul li div label {\n            position: absolute;\n            top: 50%;\n            -webkit-transform: translateY(-50%);\n                    transform: translateY(-50%);\n            -webkit-transform-origin: left top;\n                    transform-origin: left top;\n            -webkit-transition: -webkit-transform .5s;\n            transition: -webkit-transform .5s;\n            transition: transform .5s;\n            transition: transform .5s, -webkit-transform .5s;\n}\n.warehouse .panel-box ul li div.ml10 {\n            border-left: 1px solid #eee;\n}\n.warehouse .panel-box ul li div.ml10 label, .warehouse .panel-box ul li div.ml10 span, .warehouse .panel-box ul li div.ml10 .f-input {\n              margin-left: 0.53333rem;\n}\n.warehouse .panel-box ul li div span {\n            position: relative;\n            height: 2.13333rem;\n            width: 100%;\n            -webkit-box-sizing: border-box;\n                    box-sizing: border-box;\n            padding: 10px 0;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n}\n.warehouse .panel-box ul li div .f-input {\n            padding: 0;\n            margin: 0;\n            height: 20px;\n            font-size: 13px;\n            -webkit-box-sizing: border-box;\n                    box-sizing: border-box;\n            position: relative;\n            background: transparent;\n            border: none;\n            -webkit-transition: -webkit-transform .3s;\n            transition: -webkit-transform .3s;\n            transition: transform .3s;\n            transition: transform .3s, -webkit-transform .3s;\n}\n.warehouse .panel-box ul li div.active label {\n            color: #999;\n            -webkit-transform: scale(0.7) translateY(-130%);\n                    transform: scale(0.7) translateY(-130%);\n}\n.warehouse .panel-box ul li div.active span {\n            margin-top: 20px;\n}\n.warehouse .panel-box ul li div.active .f-input {\n            -webkit-transform: translateY(6px);\n                    transform: translateY(6px);\n}\n.warehouse .panel-box ul li .icono {\n          width: 1.49333rem;\n          height: 1.49333rem;\n          color: #18b413;\n          margin-left: 5px;\n}\n.warehouse .pop-btm {\n    padding: 10px;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.warehouse .pop-btm .btn {\n      background-image: linear-gradient(135deg, #a85bee 0%, #6074df 100%);\n      border-radius: 1rem;\n      height: 2rem;\n      line-height: 2rem;\n}\n',""])}});