webpackJsonp([42],{UqQ8:function(e,n,t){var i=t("ciJQ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("bUva")("61381867",i,!0,{})},ciJQ:function(e,n,t){n=e.exports=t("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16 {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\nhtml, body {\n  height: 100%;\n}\n.warehouse-infolist {\n  background: #f2f7f8;\n  min-height: 100%;\n}\n.warehouse-infolist .header {\n    padding: 0.53333rem 1.06667rem;\n}\n.warehouse-infolist .header .search-box {\n      height: 2.13333rem;\n      -webkit-box-shadow: 0 0 5px #ccc;\n              box-shadow: 0 0 5px #ccc;\n      border-radius: 1.06667rem;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      background: #ffffff;\n      padding: 0 0.64rem;\n}\n.warehouse-infolist .header .search-box .icono {\n        width: 1.38667rem;\n        height: 1.38667rem;\n        color: #333;\n        padding: 0.37333rem 0;\n}\n.warehouse-infolist .header .search-box input {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        height: 1.92rem;\n        margin: 0.10667rem;\n        line-height: 1.28rem;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        color: #999999;\n        border: none;\n        padding-left: 0.53333rem;\n        padding-right: 0.10667rem;\n}\n.warehouse-infolist .list {\n    padding: 0.53333rem 1.06667rem;\n    background: #f2f7f8;\n}\n.warehouse-infolist .list li {\n      border-bottom: 1px solid #e8e8e8;\n      padding: 10px 0;\n}\n.warehouse-infolist .list li:last-of-type {\n        border-bottom: none;\n}\n.warehouse-infolist .list li p {\n        font-size: 12px;\n        color: #666666;\n}\n.warehouse-infolist .add-empty .search-et {\n    width: 5.33333rem;\n    -webkit-filter: grayscale(100%);\n            filter: grayscale(100%);\n    -webkit-filter: gray;\n            filter: gray;\n    opacity: .3;\n}\n.warehouse-infolist .add-empty p {\n    color: #999;\n    margin-top: 10px;\n    margin-bottom: 100px;\n}\n.warehouse-infolist .page-infinite-loading {\n    text-align: center;\n    padding: 15px;\n}\n.warehouse-infolist .page-infinite-loading span {\n      vertical-align: middle;\n      margin-right: 5px;\n}\n',""])},pjxR:function(e,n,t){"use strict";function i(e){t("UqQ8")}Object.defineProperty(n,"__esModule",{value:!0});var o=t("++zo"),s=t("ubGM"),a=t("OuAF"),r={data:function(){return{infoList:[],loading:!1,isLoadMore:!0,hasNoMore:!1,page:{num:1,size:10,total:0},searchName:"",warehousetype:"",logoImg:a.a.logo}},watch:{searchName:function(e,n){this.init()}},mounted:function(){var e=this.$route.query;if(e.type)this.warehousetype=e.type;else{var n=this.$store.state.warehouse.temp;if(!n)return;this.warehousetype=n.warehouseTypeObj.warehouseType}this.init()},methods:{init:function(){this.page.num=1,this.getInfoList()},loadMore:function(){this.page.num*this.page.size<this.page.total&&(this.page.num++,this.isLoadMore=!0,this.getInfoList())},getInfoList:function(){var e=this;if(!this.loading){this.loading=!0;var n=this.$refs.loadmoreCtrl;this.$ajax.post(o.a.findWareHousePaging,{openId:this.$store.state.openId,type:this.warehousetype,pageSize:this.page.size,currentPage:this.page.num,msg:this.searchName}).then(function(t){e.loading=!1,e.isLoadMore=!1,t&&t.dataList&&t.dataList.length>0?(e.page.num>1?e.infoList=e.infoList.concat(t.dataList):e.infoList=t.dataList,e.page.total=t.totalNum):(e.infoList=[],e.page.total=0),e.page.num*e.page.size>=e.page.total?e.hasNoMore=!0:e.hasNoMore=!1,e.infoList&&e.infoList.length>0?n.onTopLoaded():e.hasNoMore=!1}).catch(function(n){e.isLoadMore=!1,e.loading=!1,console.log(n)})}},chooseInfo:function(e){var n=this,t=this.$store.state.warehouse.list,i=this.$store.state.warehouse.temp;i.warehouseTypeObj=t.wareHouseTypes.filter(function(e){return e.warehouseType==n.warehousetype})[0],i.warehouseInfoObj=e,this.$store.commit(s.R,{warehouseTemp:i}),this.$router.replace({name:"warehouse"})}}},l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",{staticClass:"warehouse-infolist"},[t("header",{staticClass:"header"},[t("div",{staticClass:"search-box"},[t("svg",{staticClass:"icono",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-search"}})]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchName,expression:"searchName"}],attrs:{type:"text",placeholder:"搜索仓库名称"},domProps:{value:e.searchName},on:{input:function(n){n.target.composing||(e.searchName=n.target.value)}}})])]),e._v(" "),t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],ref:"loadmoreCtrl",staticClass:"list",attrs:{"auto-fill":!1,"infinite-scroll-disabled":"isLoadMore","infinite-scroll-distance":"30"}},[t("ul",e._l(e.infoList,function(n,i){return t("li",{key:i,on:{click:function(t){return e.chooseInfo(n)}}},[t("span",{domProps:{textContent:e._s(n.warehouseName)}}),e._v(" "),t("p",{domProps:{textContent:e._s(n.address)}})])}),0)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!(e.infoList&&0!=e.infoList.length||e.isLoadMore),expression:"(!infoList||infoList.length==0)&&!isLoadMore"}],staticClass:"empty add-empty"},[t("img",{staticClass:"search-et",attrs:{src:e.logoImg,alt:""}}),e._v(" "),t("p",[e._v("无记录")])]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.isLoadMore,expression:"isLoadMore"}],staticClass:"page-infinite-loading"},[t("mt-spinner",{attrs:{type:"fading-circle"}}),e._v("\n        正在加载...\n    ")],1),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.hasNoMore,expression:"hasNoMore"}],staticClass:"page-infinite-loading"},[e._v("\n        没有更多数据了\n    ")])])},h=[],d={render:l,staticRenderFns:h},c=d,p=t("Mz/3"),f=i,u=p(r,c,!1,f,null,null);n.default=u.exports}});