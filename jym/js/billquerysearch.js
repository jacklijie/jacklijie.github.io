webpackJsonp([22],{"405L":function(e,n,t){"use strict";function o(e){t("ickH"),t("Jzsx")}Object.defineProperty(n,"__esModule",{value:!0});var i=t("Edqs"),l=t.n(i),s=t("34v0"),r=t.n(s),a=t("++zo"),b=t("yt7g"),c=t("NtYf"),d=t("ubGM"),u=t("0FVi"),h={data:function(){return{billCode:"",subing:!1}},computed:{historyList:function(){return this.$store.state.billQuery.history}},methods:r()({},Object(u.b)(["saveBill"]),{clearHistory:function(){this.$store.commit(d.i)},chooseBill:function(e){this.billCode=e},searchBill:function(){var e=this;if(this.billCode&&this.billCode.length>=8){if(isNaN(Number(this.billCode)))return void Object(c.Toast)("请输入正确的运单号");if(this.subing)return;this.subing=!0,this.$ajax.post(a.a.findBillByCode,{billCode:this.billCode,openId:this.$store.state.openId},!0).then(function(n){if(setTimeout(function(){e.subing=!1},1e3),n)if(sessionStorage.setItem("billCodeKey",e.billCode),"NOS"==n.billSwitch)if(n.nosWayBillInfoDto){var t=n.nosWayBillInfoDto;e.$store.commit(d.L,{billType:"not"}),t=b.b.temp(t),t.billSwitch=n.billSwitch,e.saveBill({billNum:e.billCode,searchOrder:t}).then(function(){e.$router.push({name:"billQueryInfo",params:{id:e.billCode}})})}else Object(c.Toast)("抱歉，未查询到 "+e.billCode+" 的运单信息。");else if(n.wxBillDto){var o=n.wxBillDto;e.$store.commit(d.L,{billType:"not"}),n.wxOrderDto&&(e.$store.commit(d.h,{orderStatus:n.wxOrderDto.orderStatus}),o=l()({},n.wxOrderDto,n.wxBillDto)),e.saveBill({billNum:e.billCode,searchOrder:o}).then(function(){e.$router.push({name:"billQueryInfo",params:{id:e.billCode}})})}else Object(c.Toast)("抱歉，未查询到 "+e.billCode+" 的运单信息。");else console.log(n),n&&n.message?Object(c.Toast)(n.message):Object(c.Toast)("抱歉，未查询到 "+e.billCode+" 的运单信息")}).catch(function(n){setTimeout(function(){e.subing=!1},1e3),Object(c.Toast)(n.message||"查询失败，请稍后重试")})}else Object(c.Toast)("请输入正确的运单号")}}),mounted:function(){document.getElementById("ipt").focus()}},f=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"bill-query-search"},[t("header",{staticClass:"header"},[t("div",{staticClass:"search-box"},[t("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.billCode,expression:"billCode"}],attrs:{id:"ipt",autofocus:"",type:"tel",placeholder:"请输入要查询的运单号",maxlength:"25"},domProps:{value:e.billCode},on:{input:function(n){n.target.composing||(e.billCode=n.target.value)}}}),e._v(" "),t("mt-button",{attrs:{disabled:!e.billCode||e.billCode.length<8||e.subing},on:{click:e.searchBill}},[e._v("查询")])],1)]),e._v(" "),t("section",{directives:[{name:"show",rawName:"v-show",value:e.historyList&&e.historyList.length>0,expression:"historyList&&historyList.length>0"}],staticClass:"con"},[t("div",{staticClass:"top"},[t("span",[e._v("历史查询")]),e._v(" "),t("span",{on:{click:e.clearHistory}},[e._v("清空历史")])]),e._v(" "),t("ul",{staticClass:"list"},e._l(e.historyList,function(n,o){return t("li",{key:o,domProps:{textContent:e._s(n)},on:{click:function(t){return e.chooseBill(n)}}})}),0)])])},m=[],p={render:f,staticRenderFns:m},v=p,y=t("Mz/3"),g=o,x=y(h,v,!1,g,"data-v-63b3729b",null);n.default=x.exports},Jzsx:function(e,n,t){var o=t("aUgL");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("bUva")("c4c5f480",o,!0,{})},LrGO:function(e,n,t){n=e.exports=t("yKCJ")(!1),n.push([e.i,'\n@charset "UTF-8";\n/*颜色组*/\n/*字号组*/\n.f16[data-v-63b3729b] {\n  font-size: 16px;\n}\n/*rem px转换*/\n/*  @include padding(30,20,10,10);\n*/\n.bill-query-search[data-v-63b3729b] {\n  background: #ffffff;\n}\n.bill-query-search .header[data-v-63b3729b] {\n    padding: 0.8rem 1.06667rem;\n    background-color: #f2f7f8;\n}\n.bill-query-search .header .search-box[data-v-63b3729b] {\n      width: 100%;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      height: 2.13333rem;\n      border-radius: 1.06667rem;\n      background: #ffffff;\n}\n.bill-query-search .header .search-box.focus[data-v-63b3729b] {\n        -webkit-box-shadow: 0 0 5px #ccc;\n                box-shadow: 0 0 5px #ccc;\n}\n.bill-query-search .header .search-box input[data-v-63b3729b] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n        line-height: 1.06667rem;\n        height: 2.13333rem;\n        padding: 0.53333rem 0.26667rem;\n        margin-left: 0.8rem;\n        font-size: 0.85333rem;\n        background: none;\n        border: none;\n        outline: none;\n}\n.bill-query-search .header .search-box .mint-button[data-v-63b3729b] {\n        height: 1.6rem;\n        font-size: 0.85333rem;\n        line-height: 1.6rem;\n        padding: 0 0.8rem;\n        margin: 0.26667rem;\n        background: #d4392d;\n        color: #ffffff;\n        border-radius: 0.8rem;\n        -webkit-box-shadow: none;\n                box-shadow: none;\n}\n.bill-query-search .header .search-box .mint-button.able[data-v-63b3729b] {\n          background: #d4392d;\n          color: #ffffff;\n}\n.bill-query-search .con[data-v-63b3729b] {\n    padding: 0 1.06667rem;\n}\n.bill-query-search .con .top[data-v-63b3729b] {\n      line-height: 2.13333rem;\n}\n.bill-query-search .con .top span[data-v-63b3729b] {\n        font-size: 0.64rem;\n}\n.bill-query-search .con .top span[data-v-63b3729b]:first-of-type {\n          color: #999999;\n}\n.bill-query-search .con .top span[data-v-63b3729b]:last-of-type {\n          float: right;\n          color: #d4392d;\n}\n.bill-query-search .con .list[data-v-63b3729b] {\n      list-style: none;\n      line-height: 2.66667rem;\n}\n.bill-query-search .con .list li[data-v-63b3729b] {\n        border-bottom: 1px solid #eee;\n}\n.bill-query-search .con .list li[data-v-63b3729b]:last-of-type {\n          border-bottom: none;\n}\n',""])},aUgL:function(e,n,t){n=e.exports=t("yKCJ")(!1),n.push([e.i,"\n#app{\n    background-color: #f2f7f8;\n}\n",""])},ickH:function(e,n,t){var o=t("LrGO");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("bUva")("226f1f6e",o,!0,{})}});